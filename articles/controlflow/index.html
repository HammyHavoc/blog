<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Control Flow In Rust | edfloreshz</title><meta name=keywords content="rust,basics"><meta name=description content="In this article, we&rsquo;ll be discussing what control flow is and how we can use it in Rust"><meta name=author content="Eduardo Flores"><link rel=canonical href=https://edfloreshz.blog/articles/controlflow/><link href=/assets/css/stylesheet.min.0e4a1b49e740c28140e9ee4945aab2f86cb0a7bfbf5a5d612d0cb5df7d6141f4.css integrity="sha256-DkobSedAwoFA6e5JRaqy+Gywp7+/Wl1hLQy1331hQfQ=" rel="preload stylesheet" as=style><link rel=icon href=https://edfloreshz.blog/images/favicon/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://edfloreshz.blog/images/favicon/favicon.png><link rel=icon type=image/png sizes=32x32 href=https://edfloreshz.blog/images/favicon/favicon.png><link rel=apple-touch-icon href=https://edfloreshz.blog/images/favicon/favicon.png><link rel=mask-icon href=https://edfloreshz.blog/images/favicon/favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><meta property="og:title" content="Control Flow In Rust"><meta property="og:description" content="In this article, we&rsquo;ll be discussing what control flow is and how we can use it in Rust"><meta property="og:type" content="article"><meta property="og:url" content="https://edfloreshz.blog/articles/controlflow/"><meta property="og:image" content="https://edfloreshz.blog/articles/controlflow/header.png"><meta property="article:published_time" content="2020-10-20T00:00:00+00:00"><meta property="article:modified_time" content="2020-10-20T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://edfloreshz.blog/articles/controlflow/images/articles/controlflow/header.png"><meta name=twitter:title content="Control Flow In Rust"><meta name=twitter:description content="In this article, we&rsquo;ll be discussing what control flow is and how we can use it in Rust"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Articles","item":"https://edfloreshz.blog/articles/"},{"@type":"ListItem","position":3,"name":"Control Flow In Rust","item":"https://edfloreshz.blog/articles/controlflow/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Control Flow In Rust","name":"Control Flow In Rust","description":"In this article, we\u0026amp;rsquo;ll be discussing what control flow is and how we can use it in Rust","keywords":["rust","basics"],"articleBody":"In this article, we’ll be discussing what control flow is and how we can use it in Rust.\nDeciding whether or not to run some code depending on a condition and deciding to run some code repeatedly while a condition is true are basic building blocks in most programming languages.\nThe most common constructs that let you control the flow of execution of Rust code are if expressions and loops.\nif Expressions if expressions are one of the most useful features of programming languages, it allows us to provide a condition and execute code if that condition is met.\n An if expression allows you to branch your code depending on conditions. You provide a condition and then state, “If this condition is met, run this block of code. If the condition is not met, do not run this block of code.” - The Rust Book\n All if expressions start with the keyword if, which is followed by a condition.\nfn main() { let number = 3; if number  5 { println!(\"condition was true\"); } else { println!(\"condition was false\"); } } After the condition, there should be curly brackets {} that will contain the code to execute in case the given condition is met.\nOptionally, we can also include an else expression, which we chose to do here, to give the program an alternative block of code to execute should the condition evaluate to false. If you don’t provide an else expression and the condition is false, the program will just skip the if block and move on to the next bit of code.\nIt’s also worth noting that the condition in this code must be a bool. If the condition isn’t a bool, we’ll get an error.\nIn order to write a valid condition, you can use ==, !=, , , =, . It’s also valid to evaluate the result of an operation.\nif 1 + 1 == 2 { println!(\"1 + 1 is 2\"); } Handling Multiple Conditions with else if You can have multiple conditions by combining if and else in an else if expression.\nfn main() { let number = 6; if number % 4 == 0 { println!(\"number is divisible by 4\"); } else if number % 3 == 0 { println!(\"number is divisible by 3\"); } else if number % 2 == 0 { println!(\"number is divisible by 2\"); } else { println!(\"number is not divisible by 4, 3, or 2\"); } } Using too many else if expressions can clutter your code, so if you have more than one, you might want to refactor your code. In a later article, we’ll talk about a powerful Rust branching construct called match for these cases.\nUsing if in a let Statement Because if is an expression, we can use it on the right side of a let statement:\nfn main() { let condition = true; let number = if condition { 5 } else { 6 }; println!(\"The value of number is: {}\", number); } This is useful when we don’t want to create a variable and then assign the value inside the conditional blocks, we can do it all in one single expression.\nRepetition with Loops It’s often useful to execute a block of code more than once. For this task, Rust provides several loops. A loop runs through the code inside the loop body to the end and then starts immediately back at the beginning.\nRust has three kinds of loops: loop, while, and for. Let’s try each one.\nRepeating Code with loop The loop keyword tells Rust to execute a block of code over and over again forever or until you explicitly tell it to stop. This is equivalent to using while true in C.\nfn main() { loop { println!(\"again!\"); } } When we run this program, we’ll see again! printed over and over continuously until we stop the program manually. Fortunately, Rust provides another, more reliable way to break out of a loop. You can place the break keyword within the loop to tell the program when to stop executing the loop. This can be placed inside a conditional block.\nfn main() { let mut number = 3; loop { if number == 5 { break } else { number += 1; } } } Once number reaches the value 5, the break keyword will break out of the loop.\nReturning Values from Loops One of the uses of a loop is to retry an operation you know might fail, such as checking whether a thread has completed its job. However, you might need to pass the result of that operation to the rest of your code. To do this, you can add the value you want to be returned after the break expression you use to stop the loop; that value will be returned out of the loop so you can use it.\nfn main() { let mut counter = 0; let result = loop { counter += 1; if counter == 10 { break counter * 2; } }; println!(\"The result is {}\", result); } Before the loop, we declare a variable named counter and initialize it to 0. Then we declare a variable named result to hold the value returned from the loop. On every iteration of the loop, we add 1 to the counter variable, and then check whether the counter is equal to 10. When it is, we use the break keyword with the value counter * 2. After the loop, we use a semicolon to end the statement that assigns the value to result. Finally, we print the value in result, which in this case is 20.\nConditional Loops with while It’s often useful for a program to evaluate a condition within a loop. While the condition is true, the loop runs. When the condition ceases to be true, the program calls break, stopping the loop. This loop type could also be implemented using a combination of loop, if, else, and break. However, this pattern is so common that Rust has a built-in language construct for it, called a while loop.\nfn main() { let mut number = 3; while number != 0 { println!(\"{}!\", number); number -= 1; } println!(\"LIFTOFF!!!\"); } This construct eliminates a lot of nesting that would be necessary if you used loop, if, else, and break, and it’s clearer. While a condition holds true, the code runs; otherwise, it exits the loop.\nLooping Through a Collection with for You could use the while construct to loop over the elements of a collection, such as an array.\nfn main() { let a = [10, 20, 30, 40, 50]; let mut index = 0; while index  5 { println!(\"the value is: {}\", a[index]); index += 1; } } Here, the code counts up through the elements in the array. It starts at index 0, and then loops until it reaches the final index in the array (that is, when index But this approach is error-prone; we could cause the program to panic if the index length is incorrect. It’s also slow because the compiler adds runtime code to perform the conditional check on every element on every iteration through the loop.\nAs a more concise alternative, you can use a for loop and execute some code for each item in a collection.\nfn main() { let a = [10, 20, 30, 40, 50]; for element in a.iter() { println!(\"the value is: {}\", element); } } We’ve now increased the safety of the code and eliminated the chance of bugs that might result from going beyond the end of the array or not going far enough and missing some items.\nFor example, if you changed the definition of the a array to have four elements but forgot to update the condition to while index , the code would panic. Using the for loop, you wouldn’t need to remember to change any other code if you changed the number of values in the array.\nSummary The safety and conciseness of for loops make them the most commonly used loop construct in Rust.\nEven in situations in which you want to run some code a certain number of times, as in a countdown, most Rustaceans would use a for loop. The way to do that would be to use a Range, which is a type provided by the standard library that generates all numbers in sequence starting from one number and ending before another number.\nHere’s what the countdown would look like using a for loop and another method we’ve not yet talked about, rev, to reverse the range.\nfn main() { for number in (1..4).rev() { println!(\"{}!\", number); } println!(\"LIFTOFF!!!\"); } What’s next? This was just a quick introduction to control flow, we will explore more about this in a later article.\nIn the next article, we’ll talk about Understanding Ownership. Rust is a very unique programming language and ownership is one of the reasons why.\nIf you enjoyed this article, consider sharing it so more people can benefit from it! Also, feel free to @me on Twitter or send me a message.\n","wordCount":"1539","inLanguage":"en","image":"https://edfloreshz.blog/articles/controlflow/images/articles/controlflow/header.png","datePublished":"2020-10-20T00:00:00Z","dateModified":"2020-10-20T00:00:00Z","author":{"@type":"Person","name":"Eduardo Flores"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://edfloreshz.blog/articles/controlflow/"},"publisher":{"@type":"Organization","name":"edfloreshz","logo":{"@type":"ImageObject","url":"https://edfloreshz.blog/images/favicon/favicon.png"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://edfloreshz.blog accesskey=h title="edfloreshz (Alt + H)">edfloreshz</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://edfloreshz.blog/about/ title=about><span>about</span></a></li><li><a href=https://edfloreshz.blog/articles/ title=articles><span>articles</span></a></li><li><a href=https://edfloreshz.blog/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://edfloreshz.blog/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Control Flow In Rust</h1><div class=post-meta>October 20, 2020&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Eduardo Flores</div></header><figure class=entry-cover><img src=https://edfloreshz.blog/images/articles/controlflow/header.png alt></figure><div class=post-content><p>In this article, we&rsquo;ll be discussing what control flow is and how we can use it in Rust.</p><p>Deciding whether or not to run some code depending on a condition and deciding to run some code repeatedly while a condition is true are basic building blocks in most programming languages.</p><p>The most common constructs that let you control the flow of execution of Rust code are <code>if</code> expressions and <code>loops</code>.</p><h1 id=if-expressions><code>if</code> Expressions<a hidden class=anchor aria-hidden=true href=#if-expressions>#</a></h1><p><code>if</code> expressions are one of the most useful features of programming languages, it allows us to provide a condition and execute code if that condition is met.</p><blockquote><p>An <code>if</code> expression allows you to branch your code depending on conditions. You provide a condition and then state, “If this condition is met, run this block of code. If the condition is not met, do not run this block of code.” - The Rust Book</p></blockquote><p>All if expressions start with the keyword <code>if</code>, which is followed by a condition.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#66d9ef>let</span> number <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
    <span style=color:#66d9ef>if</span> number <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span> {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;condition was true&#34;</span>);
    } <span style=color:#66d9ef>else</span> {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;condition was false&#34;</span>);
    }
}
</code></pre></div><p>After the condition, there should be curly brackets <code>{}</code> that will contain the code to execute in case the given condition is met.</p><p>Optionally, we can also include an <code>else</code> expression, which we chose to do here, to give the program an alternative block of code to execute should the condition evaluate to false. If you don’t provide an <code>else</code> expression and the condition is false, the program will just skip the if block and move on to the next bit of code.</p><p>It’s also worth noting that the condition in this code must be a <code>bool</code>. If the condition isn’t a <code>bool</code>, we’ll get an error.</p><p>In order to write a valid condition, you can use <code>==</code>, <code>!=</code>, <code>></code>, <code>&lt;</code>, <code>>=</code>, <code>&lt;=</code>. It&rsquo;s also valid to evaluate the result of an operation.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>if</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span> {
    println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;1 + 1 is 2&#34;</span>);
}
</code></pre></div><h3 id=handling-multiple-conditions-with-else-if>Handling Multiple Conditions with <code>else if</code><a hidden class=anchor aria-hidden=true href=#handling-multiple-conditions-with-else-if>#</a></h3><p>You can have multiple conditions by combining if and else in an else if expression.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#66d9ef>let</span> number <span style=color:#f92672>=</span> <span style=color:#ae81ff>6</span>;

    <span style=color:#66d9ef>if</span> number <span style=color:#f92672>%</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;number is divisible by 4&#34;</span>);
    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> number <span style=color:#f92672>%</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;number is divisible by 3&#34;</span>);
    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> number <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;number is divisible by 2&#34;</span>);
    } <span style=color:#66d9ef>else</span> {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;number is not divisible by 4, 3, or 2&#34;</span>);
    }
}
</code></pre></div><p>Using too many else if expressions can clutter your code, so if you have more than one, you might want to refactor your code. In a later article, we&rsquo;ll talk about a powerful Rust branching construct called <code>match</code> for these cases.</p><h3 id=using-if-in-a-let-statement>Using <code>if</code> in a <code>let</code> Statement<a hidden class=anchor aria-hidden=true href=#using-if-in-a-let-statement>#</a></h3><p>Because if is an expression, we can use it on the right side of a let statement:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#66d9ef>let</span> condition <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
    <span style=color:#66d9ef>let</span> number <span style=color:#f92672>=</span> <span style=color:#66d9ef>if</span> condition { <span style=color:#ae81ff>5</span> } <span style=color:#66d9ef>else</span> { <span style=color:#ae81ff>6</span> };

    println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;The value of number is: {}&#34;</span>, number);
}
</code></pre></div><p>This is useful when we don&rsquo;t want to create a variable and then assign the value inside the conditional blocks, we can do it all in one single expression.</p><h1 id=repetition-with-loops>Repetition with Loops<a hidden class=anchor aria-hidden=true href=#repetition-with-loops>#</a></h1><p>It’s often useful to execute a block of code more than once. For this task, Rust provides several loops. A loop runs through the code inside the loop body to the end and then starts immediately back at the beginning.</p><p>Rust has three kinds of loops: <code>loop</code>, <code>while</code>, and <code>for</code>. Let’s try each one.</p><h3 id=repeating-code-with-loop>Repeating Code with <code>loop</code><a hidden class=anchor aria-hidden=true href=#repeating-code-with-loop>#</a></h3><p>The <code>loop</code> keyword tells Rust to execute a block of code over and over again forever or until you explicitly tell it to stop. This is equivalent to using <code>while true</code> in C.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#66d9ef>loop</span> {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;again!&#34;</span>);
    }
}
</code></pre></div><p>When we run this program, we’ll see <code>again!</code> printed over and over continuously until we stop the program manually. Fortunately, Rust provides another, more reliable way to break out of a loop. You can place the <code>break</code> keyword within the loop to tell the program when to stop executing the loop. This can be placed inside a conditional block.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust>
<span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> number <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
    <span style=color:#66d9ef>loop</span> {
        <span style=color:#66d9ef>if</span> number <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span> {
            <span style=color:#66d9ef>break</span>
        } <span style=color:#66d9ef>else</span> {
            number <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
        }
    }
}
</code></pre></div><p>Once <code>number</code> reaches the value 5, the break keyword will break out of the loop.</p><h3 id=returning-values-from-loops>Returning Values from Loops<a hidden class=anchor aria-hidden=true href=#returning-values-from-loops>#</a></h3><p>One of the uses of a <code>loop</code> is to retry an operation you know might fail, such as checking whether a thread has completed its job. However, you might need to pass the result of that operation to the rest of your code. To do this, you can add the value you want to be returned after the break expression you use to stop the loop; that value will be returned out of the loop so you can use it.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> counter <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
    <span style=color:#66d9ef>let</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>loop</span> {
        counter <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;

        <span style=color:#66d9ef>if</span> counter <span style=color:#f92672>==</span> <span style=color:#ae81ff>10</span> {
            <span style=color:#66d9ef>break</span> counter <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>;
        }
    };

    println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;The result is {}&#34;</span>, result);
}
</code></pre></div><p>Before the loop, we declare a variable named <code>counter</code> and initialize it to 0. Then we declare a variable named <code>result</code> to hold the value returned from the <code>loop</code>. On every iteration of the <code>loop</code>, we add 1 to the <code>counter</code> variable, and then check whether the <code>counter</code> is equal to 10. When it is, we use the <code>break</code> keyword with the value <code>counter * 2</code>. After the <code>loop</code>, we use a semicolon to end the statement that assigns the value to <code>result</code>. Finally, we print the value in <code>result</code>, which in this case is 20.</p><h3 id=conditional-loops-with-while>Conditional Loops with while<a hidden class=anchor aria-hidden=true href=#conditional-loops-with-while>#</a></h3><p>It’s often useful for a program to evaluate a condition within a <code>loop</code>. While the condition is true, the <code>loop</code> runs. When the condition ceases to be true, the program calls <code>break</code>, stopping the loop. This loop type could also be implemented using a combination of <code>loop</code>, <code>if</code>, <code>else</code>, and <code>break</code>. However, this pattern is so common that Rust has a built-in language construct for it, called a <code>while</code> loop.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> number <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
    <span style=color:#66d9ef>while</span> number <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;{}!&#34;</span>, number);

        number <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
    }
    println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;LIFTOFF!!!&#34;</span>);
}
</code></pre></div><p>This construct eliminates a lot of nesting that would be necessary if you used <code>loop</code>, <code>if</code>, <code>else</code>, and <code>break</code>, and it’s clearer. While a condition holds true, the code runs; otherwise, it exits the loop.</p><h3 id=looping-through-a-collection-with-for>Looping Through a Collection with for<a hidden class=anchor aria-hidden=true href=#looping-through-a-collection-with-for>#</a></h3><p>You could use the while construct to loop over the elements of a collection, such as an array.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> [<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>50</span>];
    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> index <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
    <span style=color:#66d9ef>while</span> index <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span> {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;the value is: {}&#34;</span>, a[index]);
        index <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
    }
}
</code></pre></div><p>Here, the code counts up through the elements in the array. It starts at index 0, and then loops until it reaches the final index in the array (that is, when index &lt; 5 is no longer true). Running this code will print every element in the array.</p><p>But this approach is error-prone; we could cause the program to panic if the index length is incorrect. It’s also slow because the compiler adds runtime code to perform the conditional check on every element on every iteration through the loop.</p><p>As a more concise alternative, you can use a for loop and execute some code for each item in a collection.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> [<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>50</span>];

    <span style=color:#66d9ef>for</span> element <span style=color:#66d9ef>in</span> a.iter() {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;the value is: {}&#34;</span>, element);
    }
}
</code></pre></div><p>We’ve now increased the safety of the code and eliminated the chance of bugs that might result from going beyond the end of the array or not going far enough and missing some items.</p><p>For example, if you changed the definition of the <code>a</code> array to have four elements but forgot to update the condition to <code>while index &lt; 4</code>, the code would panic. Using the <code>for</code> loop, you wouldn’t need to remember to change any other code if you changed the number of values in the array.</p><h3 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h3><p>The safety and conciseness of for loops make them the most commonly used loop construct in Rust.</p><p>Even in situations in which you want to run some code a certain number of times, as in a countdown, most Rustaceans would use a <code>for</code> loop. The way to do that would be to use a <code>Range</code>, which is a type provided by the standard library that generates all numbers in sequence starting from one number and ending before another number.</p><p>Here’s what the countdown would look like using a <code>for</code> loop and another method we’ve not yet talked about, <code>rev</code>, to reverse the range.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#66d9ef>for</span> number <span style=color:#66d9ef>in</span> (<span style=color:#ae81ff>1</span>..<span style=color:#ae81ff>4</span>).rev() {
        println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;{}!&#34;</span>, number);
    }
    println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;LIFTOFF!!!&#34;</span>);
}
</code></pre></div><h1 id=whats-next>What&rsquo;s next?<a hidden class=anchor aria-hidden=true href=#whats-next>#</a></h1><p>This was just a quick introduction to control flow, we will explore more about this in a later article.</p><p>In the next article, we&rsquo;ll talk about <a href=https://edfloreshz.blog/understanding-ownership-in-rust>Understanding Ownership</a>. Rust is a very unique programming language and ownership is one of the reasons why.</p><p>If you enjoyed this article, consider sharing it so more people can benefit from it! Also, feel free to <a href=https://twitter.com/edfloreshz>@me</a> on Twitter or send me a message.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://edfloreshz.blog/tags/rust/>rust</a></li><li><a href=https://edfloreshz.blog/tags/basics/>basics</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Control Flow In Rust on twitter" href="https://twitter.com/intent/tweet/?text=Control%20Flow%20In%20Rust&url=https%3a%2f%2fedfloreshz.blog%2farticles%2fcontrolflow%2f&hashtags=rust%2cbasics"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-253.927 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Control Flow In Rust on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fedfloreshz.blog%2farticles%2fcontrolflow%2f&title=Control%20Flow%20In%20Rust&summary=Control%20Flow%20In%20Rust&source=https%3a%2f%2fedfloreshz.blog%2farticles%2fcontrolflow%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0v-129.439c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02v-126.056c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768h75.024zm-307.552-334.556c-25.674.0-42.448 16.879-42.448 39.002.0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Control Flow In Rust on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fedfloreshz.blog%2farticles%2fcontrolflow%2f&title=Control%20Flow%20In%20Rust"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zm-119.474 108.193c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zm-160.386-29.702c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Control Flow In Rust on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fedfloreshz.blog%2farticles%2fcontrolflow%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978v-192.915h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Control Flow In Rust on whatsapp" href="https://api.whatsapp.com/send?text=Control%20Flow%20In%20Rust%20-%20https%3a%2f%2fedfloreshz.blog%2farticles%2fcontrolflow%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23-13.314-11.876-22.304-26.542-24.916-31.026s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Control Flow In Rust on telegram" href="https://telegram.me/share/url?text=Control%20Flow%20In%20Rust&url=https%3a%2f%2fedfloreshz.blog%2farticles%2fcontrolflow%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47A3.38 3.38.0 0126.49 29.86zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2021 <span>&#183;</span> Created by <a href=https://edfloreshz.blog>edfloreshz</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>